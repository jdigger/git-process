#!/usr/bin/env ruby

require 'git-process/options/git_pull_request_options'
require 'git-process/pull_request'

options = GitProc::PullRequestOptions.new(File.basename(__FILE__), ARGV)

gp = GitProc::PullRequest.new('.', options.log_level)

begin
  gp.create(nil, nil, nil, options.title, options.description, :user => options.user, :password => options.password)
rescue GitProc::GitProcessError => exp
  puts exp.message
  exit(-1)
end
